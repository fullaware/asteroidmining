<!DOCTYPE html>
<html>
  <head>
    <title>Asteroid Miner - Sell</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  </head>
  <body>
    <div class="container">
      <h1 class="mt-5">Asteroid Miner</h1>
      <h2 class="mt-5">Sell Resources</h2>
      {% if len(cargo) == 0 %}
        <p>Your cargo hold is currently empty.</p>
      {% else %}
        <table class="table">
          <thead>
            <tr>
              <th>Resource</th>
              <th>Quantity</th>
              <th>Price</th>
              <th>Sell Quantity</th>
            </tr>
          </thead>
          <tbody>
            {% for resource, quantity in cargo.items() %}
              <tr>
                <td>{{ resource }}</td>
                <td>{{ quantity }}</td>
                <td>{{ prices.get(resource, 'N/A') }}</td>
                <td>
                  {% if prices.get(resource) %}
                    <form method="post" action="/sell">
                      <div class="form-group">
                        <input type="hidden" name="resource" value="{{ resource }}">
                        <input type="hidden" name="price" value="{{ prices[resource] }}">
                        <input type="number" name="quantity" value="1" min="1" max="{{ quantity }}" class="form-control">
                      </div>
                      <button type="submit" class="btn btn-primary">Sell</button>
                    </form>
                  {% else %}
                    N/A
                  {% endif %}
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      {% endif %}
      <a href="/cargo" class="btn btn-primary">View Cargo</a>
      <a href="/asteroids" class="btn btn-secondary">Back to Asteroids</a>
    </div>
  </body>
</html>
