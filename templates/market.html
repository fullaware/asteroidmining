<!DOCTYPE html>
<html>
  <head>
    <title>Asteroid Miner - Market</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  </head>
  <body>
    <div class="container">
      <h1 class="mt-5">Asteroid Miner</h1>
      <h2 class="mt-5">Market</h2>
      {% if market is none %}
        <p>There are currently no prices available.</p>
      {% else %}
        <table class="table">
          <thead>
            <tr>
              <th>Resource</th>
              <th>Price</th>
              <th>Buy Quantity</th>
            </tr>
          </thead>
          <tbody>
            {% for resource, price in market.items() %}
              <tr>
                <td>{{ resource }}</td>
                <td>{{ price }}</td>
                <td>
                  <form method="post" action="/buy">
                    <div class="form-group">
                      <input type="hidden" name="resource" value="{{ resource }}">
                      <input type="number" name="quantity" value="1" min="1" class="form-control">
                    </div>
                    <button type="submit" class="btn btn-primary">Buy</button>
                  </form>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      {% endif %}
      <a href="/cargo" class="btn btn-primary">View Cargo</a>
      <a href="/asteroids" class="btn btn-secondary">Back to Asteroids</a>
    </div>
  </body>
</html>
